{% extends 'base.html' %}
{% block content %}
<h1>Dashboard</h1>

<div class="dashboard-cards">
    <div class="dashboard-card">
        <h3>Total Clients</h3>
        <p>{{ total_clients }}</p>
    </div>
    <div class="dashboard-card">
        <h3>Total Orders</h3>
        <p>{{ total_orders }}</p>
    </div>
    <div class="dashboard-card">
        <h3>Pending Orders</h3>
        <p>{{ pending_orders }}</p>
    </div>
    <div class="dashboard-card">
        <h3>Completed Orders</h3>
        <p>{{ completed_orders }}</p>
    </div>
</div>

<h2>Recent Orders</h2>
{% if recent_orders %}
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Client</th>
            <th>Title</th>
            <th>Status</th>
            <th>Created At</th>
            <th>Created By</th>
        </tr>
    </thead>
    <tbody>
        {% for order in recent_orders %}
        <tr>
            <td>{{ order.id }}</td>
            <td>{{ order.client.name }}</td>
            <td>{{ order.title }}</td>
            <td>{{ order.status }}</td>
            <td>{{ order.created_at|date:"Y-m-d H:i" }}</td>
            <td>{{ order.created_by.username|default:"-" }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No recent orders.</p>
{% endif %}

<p><a href="{% url 'order_list' %}">View All Orders â†’</a></p>
{% endblock %}